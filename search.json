[{"path":"http://jkunst.com/agrometR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 agrometR authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://jkunst.com/agrometR/articles/Introduction-to-agrometR.html","id":"get-data","dir":"Articles","previous_headings":"","what":"Get data","title":"Introduction to agrometR","text":"","code":"library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union  set.seed(123456)  stations <- estaciones_agromet |>    pull(ema) |>    sample(6)  stations #> [1]  61 248  43 543 131 208  days_to_plot <- 120  date_time_start <- format(Sys.Date() - days_to_plot*24*60*60/100000, \"%Y-%m-%d\") date_time_start #> [1] \"2022-01-08\"  date_time_end <- format(Sys.Date(), \"%Y-%m-%d\") date_time_end #> [1] \"2022-04-22\"  data_stations <- get_agro_data(   stations_id = stations,    date_start = date_time_start,   date_end = date_time_end,   verbose = TRUE     )  glimpse(data_stations) #> Rows: 14,976 #> Columns: 13 #> $ station_id            <dbl> 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, … #> $ fecha_hora            <dttm> 2022-01-08 00:00:00, 2022-01-08 01:00:00, 2022-… #> $ temp_promedio_aire    <dbl> 17.3, 16.2, 14.5, 13.4, 12.9, 12.1, 12.1, 12.2, … #> $ precipitacion_horaria <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, … #> $ humed_rel_promedio    <dbl> 75.8, 78.8, 83.2, 86.2, 87.8, 88.2, 89.0, 90.0, … #> $ presion_atmosferica   <dbl> 1011.4, 1011.1, 1010.6, 1010.0, 1009.6, 1009.7, … #> $ radiacion_solar_max   <dbl> 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.7, 34.3, 270.9, … #> $ veloc_max_viento      <dbl> 0.1, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.3, 1.1… #> $ temp_minima           <dbl> 16.9, 15.6, 13.8, 13.2, 12.6, 11.9, 11.9, 11.8, … #> $ temp_maxima           <dbl> 17.7, 16.6, 15.1, 13.6, 13.1, 12.4, 12.1, 13.0, … #> $ direccion_del_viento  <dbl> 180, 180, 180, 180, 180, 180, 180, 180, 180, 193… #> $ grados_dia            <dbl> 879.85, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ horas_frio            <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …  data_stations |>    count(station_id) #> # A tibble: 6 × 2 #>   station_id     n #>        <dbl> <int> #> 1         43  2496 #> 2         61  2496 #> 3        131  2496 #> 4        208  2496 #> 5        248  2496 #> 6        543  2496"},{"path":"http://jkunst.com/agrometR/articles/Introduction-to-agrometR.html","id":"plotting","dir":"Articles","previous_headings":"","what":"Plotting","title":"Introduction to agrometR","text":"","code":"library(ggplot2)  p <- ggplot(data_stations, aes(fecha_hora, temp_promedio_aire, color = factor(station_id), group = station_id)) +   geom_line(alpha = 0.5) +   geom_smooth(se = FALSE) +   scale_color_viridis_d(option = \"magma\", begin = 0.1, end = 0.9) +   theme_minimal()  p #> `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")' #> Warning: Removed 2944 rows containing non-finite values (stat_smooth). #> Warning: Removed 539 row(s) containing missing values (geom_path). p +   facet_wrap(vars(station_id)) #> `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")' #> Warning: Removed 2944 rows containing non-finite values (stat_smooth). #> Removed 539 row(s) containing missing values (geom_path)."},{"path":"http://jkunst.com/agrometR/articles/Introduction-to-agrometR.html","id":"grouping-fecha_hora","dir":"Articles","previous_headings":"","what":"Grouping fecha_hora","title":"Introduction to agrometR","text":"","code":"library(lubridate) #>  #> Attaching package: 'lubridate' #> The following objects are masked from 'package:base': #>  #>     date, intersect, setdiff, union  data_stations_daily <- data_stations |>    mutate(fecha_hora = floor_date(fecha_hora, \"day\")) |>    group_by(station_id, fecha_hora) |>    summarise(     across(.cols = c(temp_promedio_aire, humed_rel_promedio), .fns = mean, na.rm = TRUE),     precipitacion_horaria = sum(precipitacion_horaria, na.rm = TRUE),     .groups = \"drop\"   )  glimpse(data_stations_daily) #> Rows: 630 #> Columns: 5 #> $ station_id            <dbl> 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, … #> $ fecha_hora            <dttm> 2022-01-08, 2022-01-09, 2022-01-10, 2022-01-11,… #> $ temp_promedio_aire    <dbl> 19.61250, 18.57500, 19.83750, 21.44167, 20.80000… #> $ humed_rel_promedio    <dbl> 69.16250, 72.80417, 67.96250, 66.45417, 70.64167… #> $ precipitacion_horaria <dbl> 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0…     ggplot(mapping = aes(fecha_hora, temp_promedio_aire, color = factor(station_id), group = station_id)) +   geom_smooth(data = data_stations, se = FALSE) +   geom_line(data = data_stations_daily, alpha = .3, size = 2) +   scale_color_viridis_d(option = \"magma\", begin = 0.1, end = 0.9) +   theme_minimal() +   facet_wrap(vars(station_id)) #> `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")' #> Warning: Removed 2944 rows containing non-finite values (stat_smooth). #> Warning: Removed 23 row(s) containing missing values (geom_path)."},{"path":"http://jkunst.com/agrometR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joshua Kunst. Author, maintainer. Francisco Zambrano. Author.","code":""},{"path":"http://jkunst.com/agrometR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kunst J, Zambrano F (2022). agrometR: Package (One Line, Title Case). https://jkunst.com/agrometR/, https://github.com/jbkunst/agrometR.","code":"@Manual{,   title = {agrometR: What the Package Does (One Line, Title Case)},   author = {Joshua Kunst and Francisco Zambrano},   year = {2022},   note = {https://jkunst.com/agrometR/, https://github.com/jbkunst/agrometR}, }"},{"path":"http://jkunst.com/agrometR/index.html","id":"agrometr","dir":"","previous_headings":"","what":"What the Package Does (One Line, Title Case)","title":"What the Package Does (One Line, Title Case)","text":"Paquete R para descargar información de la Red Agroclimática Nacional","code":""},{"path":"http://jkunst.com/agrometR/reference/estaciones_agromet.html","id":null,"dir":"Reference","previous_headings":"","what":"Estaciones agromet — estaciones_agromet","title":"Estaciones agromet — estaciones_agromet","text":"Estaciones agromet","code":""},{"path":"http://jkunst.com/agrometR/reference/estaciones_agromet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estaciones agromet — estaciones_agromet","text":"","code":"estaciones_agromet"},{"path":"http://jkunst.com/agrometR/reference/estaciones_agromet.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Estaciones agromet — estaciones_agromet","text":"data frame 417  observations 8 variables.","code":""},{"path":"http://jkunst.com/agrometR/reference/estaciones_agromet.html","id":"variables","dir":"Reference","previous_headings":"","what":"Variables","title":"Estaciones agromet — estaciones_agromet","text":"ema  : ema. institucion  : institucion. nombre_ema  : nombre_ema. comuna  : comuna. region  : region. latitud  : latitud. longitud  : longitud. fecha_de_alta  : fecha_de_alta.","code":""},{"path":"http://jkunst.com/agrometR/reference/get_agro_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data from agromet.cl API — get_agro_data","title":"Get data from agromet.cl API — get_agro_data","text":"Get data agromet.cl API","code":""},{"path":"http://jkunst.com/agrometR/reference/get_agro_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data from agromet.cl API — get_agro_data","text":"","code":"get_agro_data(   stations_id = NULL,   date_start = NULL,   date_end = NULL,   verbose = FALSE )  get_agro_data_from_api(station_id = NULL, date_start = NULL, date_end = NULL)"},{"path":"http://jkunst.com/agrometR/reference/get_agro_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get data from agromet.cl API — get_agro_data","text":"stations_id numeric value indicating stations ID estaciones_agromet. date_start value parseable lubridate::as_datetime, example \"2020-11-30 01:00:00\". date_end date_start parameter. verbose logical value show progress bar eta. station_id numeric length 1 value indicating station ID estaciones_agromet.","code":""},{"path":"http://jkunst.com/agrometR/reference/get_agro_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get data from agromet.cl API — get_agro_data","text":"","code":"get_agro_data(1:10, \"2020-11-30 01:00:00\", \"2020-12-15 01:00:00\") #> # A tibble: 3,610 × 13 #>    station_id fecha_hora          temp_promedio_aire precipitacion_horaria #>         <int> <dttm>                           <dbl>                 <dbl> #>  1          1 2020-11-30 01:00:00               NA                      NA #>  2          1 2020-11-30 02:00:00               NA                      NA #>  3          1 2020-11-30 03:00:00               NA                      NA #>  4          1 2020-11-30 04:00:00               NA                      NA #>  5          1 2020-11-30 05:00:00               16.1                     0 #>  6          1 2020-11-30 06:00:00               16.8                     0 #>  7          1 2020-11-30 07:00:00               18.5                     0 #>  8          1 2020-11-30 08:00:00               19.4                     0 #>  9          1 2020-11-30 09:00:00               20                       0 #> 10          1 2020-11-30 10:00:00               20.8                     0 #> # … with 3,600 more rows, and 9 more variables: humed_rel_promedio <dbl>, #> #   presion_atmosferica <dbl>, radiacion_solar_max <dbl>, #> #   veloc_max_viento <dbl>, temp_minima <dbl>, temp_maxima <dbl>, #> #   direccion_del_viento <dbl>, grados_dia <dbl>, horas_frio <lgl>  get_agro_data(1:10, \"2020-11-30 01:00:00\", \"2020-12-15 01:00:00\", verbose = TRUE) #> # A tibble: 3,610 × 13 #>    station_id fecha_hora          temp_promedio_aire precipitacion_horaria #>         <int> <dttm>                           <dbl>                 <dbl> #>  1          1 2020-11-30 01:00:00               NA                      NA #>  2          1 2020-11-30 02:00:00               NA                      NA #>  3          1 2020-11-30 03:00:00               NA                      NA #>  4          1 2020-11-30 04:00:00               NA                      NA #>  5          1 2020-11-30 05:00:00               16.1                     0 #>  6          1 2020-11-30 06:00:00               16.8                     0 #>  7          1 2020-11-30 07:00:00               18.5                     0 #>  8          1 2020-11-30 08:00:00               19.4                     0 #>  9          1 2020-11-30 09:00:00               20                       0 #> 10          1 2020-11-30 10:00:00               20.8                     0 #> # … with 3,600 more rows, and 9 more variables: humed_rel_promedio <dbl>, #> #   presion_atmosferica <dbl>, radiacion_solar_max <dbl>, #> #   veloc_max_viento <dbl>, temp_minima <dbl>, temp_maxima <dbl>, #> #   direccion_del_viento <dbl>, grados_dia <dbl>, horas_frio <lgl>   get_agro_data_from_api(108, \"2020-11-30 01:00:00\", \"2020-12-15 01:00:00\") #> # A tibble: 361 × 13 #>    station_id fecha_hora          temp_promedio_aire precipitacion_horaria #>         <dbl> <dttm>                           <dbl>                 <dbl> #>  1        108 2020-11-30 01:00:00               11                       0 #>  2        108 2020-11-30 02:00:00               10                       0 #>  3        108 2020-11-30 03:00:00                9.4                     0 #>  4        108 2020-11-30 04:00:00                8.7                     0 #>  5        108 2020-11-30 05:00:00                8.1                     0 #>  6        108 2020-11-30 06:00:00                8.5                     0 #>  7        108 2020-11-30 07:00:00               11.3                     0 #>  8        108 2020-11-30 08:00:00               13.8                     0 #>  9        108 2020-11-30 09:00:00               16.9                     0 #> 10        108 2020-11-30 10:00:00               19.1                     0 #> # … with 351 more rows, and 9 more variables: humed_rel_promedio <dbl>, #> #   presion_atmosferica <dbl>, radiacion_solar_max <dbl>, #> #   veloc_max_viento <dbl>, temp_minima <dbl>, temp_maxima <dbl>, #> #   direccion_del_viento <dbl>, grados_dia <dbl>, horas_frio <lgl>"},{"path":"http://jkunst.com/agrometR/reference/variables_agromet.html","id":null,"dir":"Reference","previous_headings":"","what":"Variables_agromet — variables_agromet","title":"Variables_agromet — variables_agromet","text":"Variables_agromet","code":""},{"path":"http://jkunst.com/agrometR/reference/variables_agromet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variables_agromet — variables_agromet","text":"","code":"variables_agromet"},{"path":"http://jkunst.com/agrometR/reference/variables_agromet.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Variables_agromet — variables_agromet","text":"data frame 12 observations 3 variables.","code":""},{"path":"http://jkunst.com/agrometR/reference/variables_agromet.html","id":"variables","dir":"Reference","previous_headings":"","what":"Variables","title":"Variables_agromet — variables_agromet","text":"columna: Nombre de la columna. unit: Unidad de medida. description: Descripción de la columna.","code":""}]
